#!/bin/bash

arg="$*"     # "$@" expands to "$1" "$2" "$3"

if [ -z "$arg" ]; then
  git=`findup .git`
  if [ "$git" ]; then
    file=`dirname "$git"`
  else
    file=.
  fi
else
  resource="$*"
fi

if [ -r "$resource" ]; then
  path=$resource
else
  path=$(find-source "$resource")
fi

code "$path"
