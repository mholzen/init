#!/bin/bash

arg="$*"     # "$@" expands to "$1" "$2" "$3"

if [ -z "$arg" ]; then
  git=`findup .git`
  if [ ! -z "$git" ]; then
    resource=`dirname "$git"`
  else
    resource="."
  fi
else
  resource="$*"
fi

if [ -r "$resource" ]; then
  path=$resource
else
  path=$(find-source "$resource")
fi

echo code "$path"
code "$path"
