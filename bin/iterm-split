#!/usr/bin/env python3

import iterm2

async def main(connection):
    # app = await iterm2.async_get_app(connection)
    window = await iterm2.Window.async_create(connection)
    if window is None:
        raise "No current window"

    leftSession = window.tabs[0].sessions[0]
    middleSession = await leftSession.async_split_pane(vertical=True)
    # rightSession = await middleSession.async_split_pane(vertical=True)

iterm2.run_until_complete(main)